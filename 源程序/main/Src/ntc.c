#include "ntc.h"


//{温度,阻值},
static const int32_t ntc_table[150][2] = 
{
	{-40,336600},
	{-39,315000},
	{-38,295000},
	{-37,276400},
	{-36,259000},
	{-35,242800},
	{-34,227800},
	{-33,213800},
	{-32,200600},
	{-31,188400},
	{-30,177000},
	{-29,166400},
	{-28,156500},
	{-27,147200},
	{-26,138500},
	{-25,130400},
	{-24,122900},
	{-23,115800},
	{-22,109100},
	{-21,102900},
	{-20,97120},
	{-19,91660},
	{-18,86540},
	{-17,81720},
	{-16,77220},
	{-15,72980},
	{-14,69000},
	{-13,65260},
	{-12,61760},
	{-11,58460},
	{-10,55340},
	{-9 ,52420},
	{-8 ,49660},
	{-7 ,47080},
	{-6 ,44640},
	{-5 ,42340},
	{-4 ,40160},
	{-3 ,38120},
	{-2 ,36200},
	{-1 ,34380},
	{0  ,32660},
	{1  ,31040},
	{2  ,29500},
	{3  ,28060},
	{4  ,26680},
	{5  ,25400},
	{6  ,24180},
	{7  ,23020},
	{8  ,21920},
	{9  ,20880},
	{10 ,19900},
	{11 ,18970},
	{12 ,18090},
	{13 ,17260},
	{14 ,16460},
	{15 ,15710},
	{16 ,15000},
	{17 ,14320},
	{18 ,13680},
	{19 ,13070},
	{20 ,12490},
	{21 ,11940},
	{22 ,11420},
	{23 ,10920},
	{24 ,10450},
	{25 ,10000},
	{26 ,9574},
	{27 ,9166},
	{28 ,8778},
	{29 ,8408},
	{30 ,8058},
	{31 ,7722},
	{32 ,7404},
	{33 ,7098},
	{34 ,6808},
	{35 ,6532},
	{36 ,6268},
	{37 ,6016},
	{38 ,5776},
	{39 ,5546},
	{40 ,5326},
	{41 ,5118},
	{42 ,4918},
	{43 ,4726},
	{44 ,4544},
	{45 ,4368},
	{46 ,4202},
	{47 ,4042},
	{48 ,3888},
	{49 ,3742},
	{50 ,3602},
	{51 ,3468},
	{52 ,3340},
	{53 ,3216},
	{54 ,3098},
	{55 ,2986},
	{56 ,2878},
	{57 ,2774},
	{58 ,2674},
	{59 ,2580},
	{60 ,2488},
	{61 ,2400},
	{62 ,2316},
	{63 ,2234},
	{64 ,2158},
	{65 ,2082},
	{66 ,2012},
	{67 ,1942},
	{68 ,1876},
	{69 ,1813},
	{70 ,1751},
	{71 ,1693},
	{72 ,1637},
	{73 ,1582},
	{74 ,1530},
	{75 ,1480},
	{76 ,1432},
	{77 ,1385},
	{78 ,1341},
	{79 ,1298},
	{80 ,1256},
	{81 ,1216},
	{82 ,1178},
	{83 ,1141},
	{84 ,1105},
	{85 ,1071},
	{86 ,1038},
	{87 ,1006},
	{88 ,975},
	{89 ,945},
	{90 ,916},
	{91 ,888},
	{92 ,862},
	{93 ,836},
	{94 ,811},
	{95 ,787},
	{96 ,764},
	{97 ,741},
	{98 ,720},
	{99 ,699},
	{100,679},
	{101,659},
	{102,640},
	{103,622},
	{104,605},
	{105,588},
	{106,571},
	{107,555},
	{108,540},
	{109,525}
};
/*******************
NTC查表
参数:   阻值
返回值: 温度
*******************/
float look_table(float R)
{
	uint16_t cnt = 0;
	for(;cnt < 150;cnt ++)
	{
		if(R > (float)ntc_table[cnt][1])
		{
			return (float)ntc_table[cnt][0];
		}
	}
	return 0.f;
}



